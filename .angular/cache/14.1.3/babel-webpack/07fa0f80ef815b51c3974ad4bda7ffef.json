{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isConnectionLimitExceeded = exports.connectionLimitExceeded = exports.attemptHook = exports.globalError = exports.doubleReleaseError = exports.queueTimeoutError = exports.openTimeout = void 0;\n\nfunction openTimeout() {\n  return Object.assign(new Error(`Timed out waiting for open connection.`), {\n    code: `CONNECTION_POOL:OPEN_TIMEOUT`\n  });\n}\n\nexports.openTimeout = openTimeout;\n\nfunction queueTimeoutError() {\n  return Object.assign(new Error('Timed out waiting for connection from pool.'), {\n    code: 'CONNECTION_POOL:QUEUE_TIMEOUT'\n  });\n}\n\nexports.queueTimeoutError = queueTimeoutError;\n\nfunction doubleReleaseError() {\n  return Object.assign(new Error('Release called on client which has already been released to the pool.'), {\n    code: 'CONNECTION_POOL:DOUBLE_RELEASE'\n  });\n}\n\nexports.doubleReleaseError = doubleReleaseError;\n\nfunction globalError(err) {\n  setTimeout(() => {\n    throw err;\n  }, 0);\n}\n\nexports.globalError = globalError;\n\nfunction attemptHook(fn, ...args) {\n  try {\n    if (fn) {\n      fn(...args);\n    }\n\n    return undefined;\n  } catch (ex) {\n    return ex;\n  }\n}\n\nexports.attemptHook = attemptHook;\nexports.connectionLimitExceeded = Symbol('CONNECTION_LIMIT_EXCEEDED');\n\nfunction isConnectionLimitExceeded(value) {\n  return value === exports.connectionLimitExceeded;\n}\n\nexports.isConnectionLimitExceeded = isConnectionLimitExceeded;","map":{"version":3,"names":["Object","defineProperty","exports","value","isConnectionLimitExceeded","connectionLimitExceeded","attemptHook","globalError","doubleReleaseError","queueTimeoutError","openTimeout","assign","Error","code","err","setTimeout","fn","args","undefined","ex","Symbol"],"sources":["D:/angular/pr1/node_modules/@databases/connection-pool/lib/utils/errors.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isConnectionLimitExceeded = exports.connectionLimitExceeded = exports.attemptHook = exports.globalError = exports.doubleReleaseError = exports.queueTimeoutError = exports.openTimeout = void 0;\nfunction openTimeout() {\n    return Object.assign(new Error(`Timed out waiting for open connection.`), {\n        code: `CONNECTION_POOL:OPEN_TIMEOUT`,\n    });\n}\nexports.openTimeout = openTimeout;\nfunction queueTimeoutError() {\n    return Object.assign(new Error('Timed out waiting for connection from pool.'), {\n        code: 'CONNECTION_POOL:QUEUE_TIMEOUT',\n    });\n}\nexports.queueTimeoutError = queueTimeoutError;\nfunction doubleReleaseError() {\n    return Object.assign(new Error('Release called on client which has already been released to the pool.'), { code: 'CONNECTION_POOL:DOUBLE_RELEASE' });\n}\nexports.doubleReleaseError = doubleReleaseError;\nfunction globalError(err) {\n    setTimeout(() => {\n        throw err;\n    }, 0);\n}\nexports.globalError = globalError;\nfunction attemptHook(fn, ...args) {\n    try {\n        if (fn) {\n            fn(...args);\n        }\n        return undefined;\n    }\n    catch (ex) {\n        return ex;\n    }\n}\nexports.attemptHook = attemptHook;\nexports.connectionLimitExceeded = Symbol('CONNECTION_LIMIT_EXCEEDED');\nfunction isConnectionLimitExceeded(value) {\n    return value === exports.connectionLimitExceeded;\n}\nexports.isConnectionLimitExceeded = isConnectionLimitExceeded;\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,yBAAR,GAAoCF,OAAO,CAACG,uBAAR,GAAkCH,OAAO,CAACI,WAAR,GAAsBJ,OAAO,CAACK,WAAR,GAAsBL,OAAO,CAACM,kBAAR,GAA6BN,OAAO,CAACO,iBAAR,GAA4BP,OAAO,CAACQ,WAAR,GAAsB,KAAK,CAAtM;;AACA,SAASA,WAAT,GAAuB;EACnB,OAAOV,MAAM,CAACW,MAAP,CAAc,IAAIC,KAAJ,CAAW,wCAAX,CAAd,EAAmE;IACtEC,IAAI,EAAG;EAD+D,CAAnE,CAAP;AAGH;;AACDX,OAAO,CAACQ,WAAR,GAAsBA,WAAtB;;AACA,SAASD,iBAAT,GAA6B;EACzB,OAAOT,MAAM,CAACW,MAAP,CAAc,IAAIC,KAAJ,CAAU,6CAAV,CAAd,EAAwE;IAC3EC,IAAI,EAAE;EADqE,CAAxE,CAAP;AAGH;;AACDX,OAAO,CAACO,iBAAR,GAA4BA,iBAA5B;;AACA,SAASD,kBAAT,GAA8B;EAC1B,OAAOR,MAAM,CAACW,MAAP,CAAc,IAAIC,KAAJ,CAAU,uEAAV,CAAd,EAAkG;IAAEC,IAAI,EAAE;EAAR,CAAlG,CAAP;AACH;;AACDX,OAAO,CAACM,kBAAR,GAA6BA,kBAA7B;;AACA,SAASD,WAAT,CAAqBO,GAArB,EAA0B;EACtBC,UAAU,CAAC,MAAM;IACb,MAAMD,GAAN;EACH,CAFS,EAEP,CAFO,CAAV;AAGH;;AACDZ,OAAO,CAACK,WAAR,GAAsBA,WAAtB;;AACA,SAASD,WAAT,CAAqBU,EAArB,EAAyB,GAAGC,IAA5B,EAAkC;EAC9B,IAAI;IACA,IAAID,EAAJ,EAAQ;MACJA,EAAE,CAAC,GAAGC,IAAJ,CAAF;IACH;;IACD,OAAOC,SAAP;EACH,CALD,CAMA,OAAOC,EAAP,EAAW;IACP,OAAOA,EAAP;EACH;AACJ;;AACDjB,OAAO,CAACI,WAAR,GAAsBA,WAAtB;AACAJ,OAAO,CAACG,uBAAR,GAAkCe,MAAM,CAAC,2BAAD,CAAxC;;AACA,SAAShB,yBAAT,CAAmCD,KAAnC,EAA0C;EACtC,OAAOA,KAAK,KAAKD,OAAO,CAACG,uBAAzB;AACH;;AACDH,OAAO,CAACE,yBAAR,GAAoCA,yBAApC"},"metadata":{},"sourceType":"script"}