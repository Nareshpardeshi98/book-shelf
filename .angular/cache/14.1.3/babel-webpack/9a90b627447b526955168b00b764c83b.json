{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst timeout_1 = require(\"./timeout\");\n/**\n * A task in the queue that is waiting for a connection\n * to become available.\n */\n\n\nclass Waiter {\n  constructor(resolve, timeoutMilliseconds) {\n    this._resolve = resolve;\n\n    if (timeoutMilliseconds !== Infinity) {\n      this._timeout = setTimeout( // tslint:disable-next-line: no-unbound-method\n      Waiter.waiterTimeout, timeoutMilliseconds, this);\n    }\n  }\n\n  static waiterTimeout(waiter) {\n    if (waiter._resolve) {\n      waiter._resolve(timeout_1.timeout);\n\n      waiter._resolve = null;\n    }\n  }\n\n  isTimedOut() {\n    return this._resolve === null;\n  }\n\n  resolve(connection) {\n    clearTimeout(this._timeout);\n\n    this._resolve(connection);\n  }\n\n}\n\nexports.default = Waiter;","map":{"version":3,"names":["Object","defineProperty","exports","value","timeout_1","require","Waiter","constructor","resolve","timeoutMilliseconds","_resolve","Infinity","_timeout","setTimeout","waiterTimeout","waiter","timeout","isTimedOut","connection","clearTimeout","default"],"sources":["D:/angular/pr1/node_modules/@databases/connection-pool/lib/utils/Waiter.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst timeout_1 = require(\"./timeout\");\n/**\n * A task in the queue that is waiting for a connection\n * to become available.\n */\nclass Waiter {\n    constructor(resolve, timeoutMilliseconds) {\n        this._resolve = resolve;\n        if (timeoutMilliseconds !== Infinity) {\n            this._timeout = setTimeout(\n            // tslint:disable-next-line: no-unbound-method\n            Waiter.waiterTimeout, timeoutMilliseconds, this);\n        }\n    }\n    static waiterTimeout(waiter) {\n        if (waiter._resolve) {\n            waiter._resolve(timeout_1.timeout);\n            waiter._resolve = null;\n        }\n    }\n    isTimedOut() {\n        return this._resolve === null;\n    }\n    resolve(connection) {\n        clearTimeout(this._timeout);\n        this._resolve(connection);\n    }\n}\nexports.default = Waiter;\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;;AACA,MAAMC,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAzB;AACA;AACA;AACA;AACA;;;AACA,MAAMC,MAAN,CAAa;EACTC,WAAW,CAACC,OAAD,EAAUC,mBAAV,EAA+B;IACtC,KAAKC,QAAL,GAAgBF,OAAhB;;IACA,IAAIC,mBAAmB,KAAKE,QAA5B,EAAsC;MAClC,KAAKC,QAAL,GAAgBC,UAAU,EAC1B;MACAP,MAAM,CAACQ,aAFmB,EAEJL,mBAFI,EAEiB,IAFjB,CAA1B;IAGH;EACJ;;EACmB,OAAbK,aAAa,CAACC,MAAD,EAAS;IACzB,IAAIA,MAAM,CAACL,QAAX,EAAqB;MACjBK,MAAM,CAACL,QAAP,CAAgBN,SAAS,CAACY,OAA1B;;MACAD,MAAM,CAACL,QAAP,GAAkB,IAAlB;IACH;EACJ;;EACDO,UAAU,GAAG;IACT,OAAO,KAAKP,QAAL,KAAkB,IAAzB;EACH;;EACDF,OAAO,CAACU,UAAD,EAAa;IAChBC,YAAY,CAAC,KAAKP,QAAN,CAAZ;;IACA,KAAKF,QAAL,CAAcQ,UAAd;EACH;;AArBQ;;AAuBbhB,OAAO,CAACkB,OAAR,GAAkBd,MAAlB"},"metadata":{},"sourceType":"script"}